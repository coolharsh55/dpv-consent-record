@prefix dpv: <https://w3id.org/dpv#> .
@prefix dpv-gdpr: <https://w3id.org/dpv/dpv-gdpr#> .
@prefix dpv-pd: <https://w3id.org/dpv/dpv-pd#> .
@prefix dpv-org: <https://w3id.org/dpv/dpv-org#> .
@prefix dpv-legal: <https://w3id.org/dpv/dpv-legal#> .
@prefix dpv-tech: <https://w3id.org/dpv/dpv-tech#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix odrl: <http://www.w3.org/ns/odrl/2/> .

@prefix : <https://example.com/records#> .

:63ded36f-4acd-4f3c-991e-6cb636698523 a dpv:ConsentRecord ;
    dct:hasVersion "27560-WD5" ;
    dpv:hasIdentifier "63ded36f-4acd-4f3c-991e-6cb636698523" ;
    dpv:hasDataSubject "96121fde-199f-4848-8942-4436e270513a" ;
    dpv:hasNotice <https://example.com/notice/WD5> ;
    dct:language "en" ;
    dpv:hasAuthority :DPC-IE ;
    dpv:hasPurpose [
        a dpv:Purpose ;
        dct:title "Send Newsletters with Seasonal Offers"@en ;
        dpv:isSubTypeOf dpv:Marketing ;
        dpv:hasLegalBasis dpv:Consent ;
        dpv:hasPersonalData :PD1234, :PD1235 ;
        dpv:hasDataController :C01, :C02 ;
        dpv:hasDataSource [
            a dpv:DataSource ;
            dpv:hasProcessing dpv:Collect ;
            dpv:hasDataSource dpv:DataSubject ; ] ;
        dpv:hasDataSource [
            a dpv:DataSource ;
            dpv:hasProcessing dpv:Infer ;
            dpv:hasDataSource "Service Usage" ; ] ;
        dpv:hasProcessing dpv:Collect, dpv:Store, dpv:Profiling ;
        dpv:hasStorageCondition [ 
            dpv:hasLocation dpv-legal:IE ;
            dpv:hasDuration 63115200 ;
            ] ;
        dpv:hasProcessing [
            odrl:constraint [
                odrl:leftOperand odrl:spatial ;
                odrl:operator odrl:lteq ;
                odrl:rightOperand dpv-legal:EU ;
            ] ] ;
        dct:isPartOf [
            a dpv-tech:Services ;
            dct:title "News Website XYZ Subscription" ;
            ] ;
        dpv:hasJurisdiction dpv-legal:EU ;
        dpv:hasRecipient :T01, :T02 ;
        dpv:hasWithdrawalMethod "https://example.com/notice" ;
        dpv:hasRight <https://example.com/object-to-direct-marketing>, <https://example.com/data-portability> ;
        dpv:hasOrganisationalMeasure <https://example.com/CoC-news-media>, <https://example.com/DPIA> ;
    ] ;
    dpv:hasConsentStatus dpv:ConsentWithdrawn ;
    dct:hasPart [
        a dpv:ConsentGiven, dpv:ExplicitlyExpressedConsent ;
        dct:date "2021-05-28T12:24:00"^^xsd:dateTime ;
        dpv:hasDuration 63115200 ;
        dpv:hasEntity "96121fde-199f-4848-8942-4436e270513a"
    ] ;
    dpv:hasPart [
        a dpv:ConsentWithdrawn ;
        dct:date "2022-02-21T20:44:00"^^xsd:dateTime ;
        dpv:hasDuration 0 ;
        dpv:hasEntity "96121fde-199f-4848-8942-4436e270513a" ;
    ] .

<https://example.com/DPIA> a dpv:DPIA ;
    dct:created "2020-09-01"^^xsd:date .
<https://example.com/CoC-news-media> a dpv:CodeOfConduct .
<https://example.com/data-portability> a dpv-gdpr:A20 .
<https://example.com/object-to-direct-marketing> a dpv-gdpr:A21 .

:C01 a dpv:LegalEntity, dpv:DataController ;
    dpv:hasAddress "Dublin, Ireland" ;
    dpv:hasAddress "https://example.com/AcmeInc"^^xsd:anyURI ;
    dpv:hasName "Acme Inc." ;
    dpv:hasContact "mailto:contact@acme.example.com" ;
    dpv:hasContact [
        a dpv-org:SocialMediaHandle ;
        dpv:hasIdentifier "@acme" ;
        ] ;
    dct:description "Service Provider for News"@en .

:C02 a dpv:LegalEntity, dpv:DataController ;
    dpv:hasAddress "Frankfurt, Germany" ;
    dpv:hasAddress "https://example.com/BetaInc"^^xsd:anyURI ;
    dpv:hasName "Beta Inc." ;
    dct:description "Service Provider for Payment"@en .

:T01 a dpv:LegalEntity, dpv:Recipient, dpv:ThirdParty ;
    dpv:hasAddress "Paris, France" ;
    dpv:hasAddress "https://example.com/Delta"^^xsd:anyURI ;
    dpv:hasName "Delta" ;
    dct:description "Recipient for Analytics"@en .

:T02 a dpv:LegalEntity, dpv:Recipient, dpv:ThirdParty ;
    dpv:hasAddress "Dublin, Ireland" ;
    dpv:hasAddress "https://example.com/Epsilon"^^xsd:anyURI ;
    dpv:hasName "Epsilon Co." ;
    dpv:hasContact "post:11 Rue St., Dublin, Ireland" ;
    dct:description "Recipient for Market Research"@en .

:DPC-IE a dpv:DataProtectionAuthority ;
    dpv:hasAddress "Dublin, Ireland" ;
    dpv:hasAddress "https://example.com/dpc"^^xsd:anyURI ;
    dpv:hasName "Data Protection Commission"@en ;
    dct:description "Lead Authority"@en .

:PD1234 a dpv:PersonalData ;
    dpv:isSubTypeOf dpv-pd:Email ;
    dpv:hasContext dpv:Required .

:PD1235 a dpv:PersonalData ;
    dpv:isSubTypeOf dpv-pd:Name ;
    dpv:hasContext dpv:Optional .